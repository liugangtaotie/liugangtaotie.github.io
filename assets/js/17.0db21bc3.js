(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{682:function(s,a,t){s.exports=t.p+"assets/img/staticTwo.a444ed5d.jpeg"},683:function(s,a,t){s.exports=t.p+"assets/img/staticThree.b5217d34.jpeg"},684:function(s,a,t){s.exports=t.p+"assets/img/staticOne.93b34eab.jpeg"},685:function(s,a,t){s.exports=t.p+"assets/img/jenkinsSlave.57113b05.png"},686:function(s,a,t){s.exports=t.p+"assets/img/staticFour.46c4ca16.jpeg"},777:function(s,a,t){"use strict";t.r(a);var r=t(4),n=Object(r.a)({},(function(){var s=this,a=s.$createElement,r=s._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[r("Boxx",{attrs:{changeTime:"5000"}}),s._v(" "),r("h2",{attrs:{id:"_1-如何配置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-如何配置"}},[s._v("#")]),s._v(" 1. 如何配置")]),s._v(" "),r("ul",[r("li",[s._v("在src/api/appConfig.ts里面配置")])]),s._v(" "),r("div",{staticClass:"language-javascript line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-javascript"}},[r("code",[r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// xxx")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token constant"}},[s._v("BASE_SERVICE_PATH")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xxxxxx/hcn-web/"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br")])]),r("ul",[r("li",[s._v("并在src/api/api.ts里面加入：")])]),s._v(" "),r("div",{staticClass:"language-javascript line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-javascript"}},[r("code",[r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 图片请求（所有静态图片）")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("miniImageUrl")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),r("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("str"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" any")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token constant"}},[s._v("BASE_SERVICE_PATH")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mini_images/images/"')]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" str"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br"),r("span",{staticClass:"line-number"},[s._v("6")]),r("br")])]),r("ul",[r("li",[r("p",[s._v("如下图：\n"),r("img",{attrs:{src:t(682),alt:"Image text"}})])]),s._v(" "),r("li",[r("p",[s._v("在main.ts里面配置全局$miniImageUrl")])])]),s._v(" "),r("div",{staticClass:"language-javascript line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-javascript"}},[r("code",[r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("miniImageUrl "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@/api/api'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Vue")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prototype"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("$miniImageUrl "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" miniImageUrl"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\ndeclare module "),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vue/types/vue"')]),s._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),r("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// eslint-disable-next-line prettier/prettier")]),s._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Vue")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n    $miniImageUrl"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("any"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br"),r("span",{staticClass:"line-number"},[s._v("6")]),r("br"),r("span",{staticClass:"line-number"},[s._v("7")]),r("br"),r("span",{staticClass:"line-number"},[s._v("8")]),r("br"),r("span",{staticClass:"line-number"},[s._v("9")]),r("br"),r("span",{staticClass:"line-number"},[s._v("10")]),r("br"),r("span",{staticClass:"line-number"},[s._v("11")]),r("br"),r("span",{staticClass:"line-number"},[s._v("12")]),r("br"),r("span",{staticClass:"line-number"},[s._v("13")]),r("br"),r("span",{staticClass:"line-number"},[s._v("14")]),r("br"),r("span",{staticClass:"line-number"},[s._v("15")]),r("br")])]),r("ul",[r("li",[s._v("如下图：\n"),r("img",{attrs:{src:t(683),alt:"Image text"}})])]),s._v(" "),r("h2",{attrs:{id:"_2-发布图片"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-发布图片"}},[s._v("#")]),s._v(" 2. 发布图片")]),s._v(" "),r("p",[r("img",{attrs:{src:t(684),alt:"Image text"}})]),s._v(" "),r("ul",[r("li",[r("p",[s._v("2.1 项目结构里面的miniImage文件是与放入后台的文件一样层级;")])]),s._v(" "),r("li",[r("p",[s._v("2.2 如果有新图片，都放入miniImages文件下的images里面;")])]),s._v(" "),r("li",[r("p",[s._v("2.3 上传图片")])]),s._v(" "),r("li",[r("p",[s._v("2.3.1 将文件miniImages压缩发给相对应的后台;")])]),s._v(" "),r("li",[r("p",[s._v("2.3.2 同时也可以自己上传：")])])]),s._v(" "),r("div",{staticClass:"language-javascript line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-javascript"}},[r("code",[r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" a、git clone "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("b develop http"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("jkcs"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("common"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cn"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("hc"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("service"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("hcn"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("web"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("git\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" b、cd hcn"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("web\\web\\mini_images，放入相应的图片\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[s._v("c、jenkins")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hcn"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("web"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 构建选择slave "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[s._v("rancher")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hcn"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("web"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("slave"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("04")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br")])]),r("ul",[r("li",[s._v("jenkins选择如下图：")])]),s._v(" "),r("p",[r("img",{attrs:{src:t(685),alt:"Image text"}})]),s._v(" "),r("ul",[r("li",[r("p",[s._v("2.4 发布好，就可以使用站点地址;")])]),s._v(" "),r("li",[r("p",[s._v("2.5 本地不会打包miniImages资源，这里图片只是方便开发人员更新和查看用的;")])]),s._v(" "),r("li",[r("p",[s._v("2.6 特别注意，src/static/images里面仅能存放项目必须要静态的资源，其他非必须的资源都放入站点，然后再引入。")])])]),s._v(" "),r("h2",{attrs:{id:"_3-引入图片"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-引入图片"}},[s._v("#")]),s._v(" 3. 引入图片")]),s._v(" "),r("p",[s._v("配置好后，任意模块，引入图片，非常方便。")]),s._v(" "),r("div",{staticClass:"language-javascript line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-javascript"}},[r("code",[r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("image\n  style"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"width: 100vw; height: 254rpx"')]),s._v("\n  mode"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"scaleToFill"')]),s._v("\n  "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("src"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"$miniImageUrl('icon_hospital.png')\"")]),s._v("\n  lazy"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("load\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br"),r("span",{staticClass:"line-number"},[s._v("6")]),r("br"),r("span",{staticClass:"line-number"},[s._v("7")]),r("br"),r("span",{staticClass:"line-number"},[s._v("8")]),r("br")])]),r("h3",{attrs:{id:"具体操作-如下图"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#具体操作-如下图"}},[s._v("#")]),s._v(" 具体操作，如下图：")]),s._v(" "),r("p",[r("img",{attrs:{src:t(686),alt:"Image text"}})]),s._v(" "),r("h2",{attrs:{id:"_4-图片优化"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-图片优化"}},[s._v("#")]),s._v(" 4. 图片优化")]),s._v(" "),r("ul",[r("li",[s._v("加入loading和error错误展示图片，")]),s._v(" "),r("li",[s._v("建议都用u-image组件，不直接用image组件，这样提升用户体验")])]),s._v(" "),r("div",{staticClass:"language-javascript line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-javascript"}},[r("code",[r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("u"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("image\n  width"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"160"')]),s._v("\n  height"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"120"')]),s._v("\n  border"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("radius"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"12"')]),s._v("\n  "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("lazy"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("load"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"true"')]),s._v("\n  "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("src"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xxx"')]),s._v("\n  "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("u"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("loading slot"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"loading"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("u"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("loading"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("image\n      style"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"background-color: #fff"')]),s._v("\n      slot"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"error"')]),s._v("\n      mode"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"scaleToFill"')]),s._v("\n      "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("src"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"$miniImageUrl('icon_hospital.png')\"")]),s._v("\n    "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("u"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("image"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br"),r("span",{staticClass:"line-number"},[s._v("6")]),r("br"),r("span",{staticClass:"line-number"},[s._v("7")]),r("br"),r("span",{staticClass:"line-number"},[s._v("8")]),r("br"),r("span",{staticClass:"line-number"},[s._v("9")]),r("br"),r("span",{staticClass:"line-number"},[s._v("10")]),r("br"),r("span",{staticClass:"line-number"},[s._v("11")]),r("br"),r("span",{staticClass:"line-number"},[s._v("12")]),r("br"),r("span",{staticClass:"line-number"},[s._v("13")]),r("br"),r("span",{staticClass:"line-number"},[s._v("14")]),r("br"),r("span",{staticClass:"line-number"},[s._v("15")]),r("br")])])],1)}),[],!1,null,null,null);a.default=n.exports}}]);